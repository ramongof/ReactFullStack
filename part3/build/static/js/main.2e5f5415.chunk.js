(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{15:function(e,n,t){e.exports=t(40)},37:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(13),c=t.n(r),i=t(2),s=function(e){var n=e.onChange,t=e.name;return o.a.createElement("div",null,"Who are you looking for? ",o.a.createElement("input",{value:t,onChange:function(e){n(e.target.value)}}))},u=t(14),l=function(e){var n=e.setPersons,t=function(n){return e.persons.map((function(e){return e[n]}))},r=Object(a.useState)(""),c=Object(i.a)(r,2),s=c[0],l=c[1],f=Object(a.useState)(""),m=Object(i.a)(f,2),d=m[0],p=m[1],b=s.trim(),h=d.trim();return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:function(a){a.preventDefault();var o={name:b,number:h};if(!t("name").includes(b.trim())&&b&&!t("number").includes(h)&&h)e.personService.create(o).then((function(t){n(e.persons.concat(t)),e.setNotificationMessage("Added ".concat(b)),setTimeout((function(){e.setNotificationMessage(null)}),5e3)}));else if(!b||t("name").includes(b))if(!h||t("number").includes(h)){var r=t("name").includes(b)?"".concat(b," is already added to phonebook"):"Insert a new name!";window.alert("".concat(r))}else{var c;if(window.confirm("".concat(b," is already added to Phonebook, replace the old number with the new one?")))(c=e.personService).update.apply(c,Object(u.a)(e.persons.filter((function(e){return e.name===b})).map((function(e){return e.id}))).concat([o])).then((function(t){t.number=o.number,n(e.persons.filter((function(e){return e.id!==t.id})).concat(t)),e.setNotificationMessage("".concat(t.name," number was replaced")),e.setClassType("notification update"),setTimeout((function(){e.setNotificationMessage(null),e.setClassType("notification")}),5e3)})).catch((function(n){e.setNotificationMessage("".concat(b," was already deleted from Phonebook")),e.setClassType("notification error"),setTimeout((function(){e.setNotificationMessage(null),e.setClassType("notification")}),5e3)}))}else if(!h||t("number").includes(h)){var i=t("number").includes(h)?"".concat(h," is already added to phonebook"):"Insert a new Number!";window.alert("".concat(i))}l(""),p("")}},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:s,onChange:function(e){l(e.target.value)}})),o.a.createElement("br",null),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:d,onChange:function(e){p(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))))},f=function(e){var n=e.setPersons,t=function(){return e.persons.map((function(t){return o.a.createElement("li",{key:t.name},t.name," ",t.number," ",o.a.createElement("button",{type:"button",onClick:function(){return function(t){window.confirm("are you sure you want to delete ".concat(t.name))&&e.personService.deletePerson(t.id).then((function(){n(e.persons.filter((function(e){return e.id!==t.id}))),e.setNotificationMessage("".concat(t.name," was successefully deleted")),e.setClassType("notification delete"),setTimeout((function(){e.setNotificationMessage(null),e.setClassType("notification")}),5e3)}))}(t)}},"delete")," ")}))};if(""!==e.searchName.trim()){t=function(){return e.persons.filter((function(n){if(-1!==n.name.toLowerCase().indexOf(e.searchName.toLowerCase()))return n})).map((function(e){return o.a.createElement("li",{key:e.name},e.name," ",e.number," ")}))}}return o.a.createElement("div",null,o.a.createElement("ul",null,t()))},m=t(3),d=t.n(m),p="/api/persons",b={getAll:function(){return d.a.get(p).then((function(e){return e.data}))},create:function(e){return d.a.post(p,e).then((function(e){return e.data}))},update:function(e,n){return d.a.put("".concat(p,"/").concat(e),n).then((function(e){return e.data}))},deletePerson:function(e){return d.a.delete("".concat(p,"/").concat(e)).then((function(e){return e.data}))}},h=function(e){var n=e.message,t=e.classType;return null===n?null:o.a.createElement("div",{className:t},n)},v=(t(37),function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(null),u=Object(i.a)(c,2),m=u[0],d=u[1],p=Object(a.useState)("notification"),v=Object(i.a)(p,2),E=v[0],g=v[1];Object(a.useEffect)((function(){b.getAll().then((function(e){r(e)}))}),[]);var y=Object(a.useState)(""),w=Object(i.a)(y,2),C=w[0],N=w[1];return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(h,{message:m,classType:E}),o.a.createElement(s,{name:C,onChange:N,persons:t}),o.a.createElement("br",null),o.a.createElement(l,{persons:t,setPersons:r,personService:b,setNotificationMessage:d,setClassType:g}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(f,{persons:t,searchName:C,setPersons:r,personService:b,setNotificationMessage:d,setClassType:g}))});t(38),t(39);c.a.render(o.a.createElement(v,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.2e5f5415.chunk.js.map
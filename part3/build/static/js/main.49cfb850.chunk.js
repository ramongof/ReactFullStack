(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(e,n,t){e.exports=t(39)},36:function(e,n,t){},37:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(13),c=t.n(r),i=t(2),s=function(e){var n=e.onChange,t=e.name;return o.a.createElement("div",null,"Who are you looking for? ",o.a.createElement("input",{value:t,onChange:function(e){n(e.target.value)}}))},u=function(e){var n=e.setPersons,t=function(n){return e.persons.map((function(e){return e[n]}))},r=Object(a.useState)(""),c=Object(i.a)(r,2),s=c[0],u=c[1],l=Object(a.useState)(""),f=Object(i.a)(l,2),m=f[0],d=f[1],p=s.trim(),b=m.trim();return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:function(a){a.preventDefault();var o={name:p,number:b};if(!t("name").includes(p.trim())&&p&&!t("number").includes(b)&&b)e.personService.create(o).then((function(t){n(e.persons.concat(t)),e.setNotificationMessage("Added ".concat(p)),setTimeout((function(){e.setNotificationMessage(null)}),5e3)}));else if(!p||t("name").includes(p))if(!b||t("number").includes(b)){var r=t("name").includes(p)?"".concat(p," is already added to phonebook"):"Insert a new name!";window.alert("".concat(r))}else window.confirm("".concat(p," is already added to Phonebook, replace the old number with the new one?"))&&e.personService.update(e.persons.filter((function(e){return e.name===p})).map((function(e){return e.id})),o).then((function(t){n(e.persons.filter((function(e){return e.id!==t.id})).concat(t)),e.setNotificationMessage("".concat(t.name," number was replaced")),e.setClassType("notification update"),setTimeout((function(){e.setNotificationMessage(null),e.setClassType("notification")}),5e3)})).catch((function(n){e.setNotificationMessage("".concat(p," was already deleted from Phonebook")),e.setClassType("notification error"),setTimeout((function(){e.setNotificationMessage(null),e.setClassType("notification")}),5e3)}));else if(!b||t("number").includes(b)){var c=t("number").includes(b)?"".concat(b," is already added to phonebook"):"Insert a new Number!";window.alert("".concat(c))}u(""),d("")}},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:s,onChange:function(e){u(e.target.value)}})),o.a.createElement("br",null),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:m,onChange:function(e){d(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))))},l=function(e){var n=e.setPersons,t=function(){return e.persons.map((function(t){return o.a.createElement("li",{key:t.name},t.name," ",t.number," ",o.a.createElement("button",{type:"button",onClick:function(){return function(t){window.confirm("are you sure you want to delete ".concat(t.name))&&e.personService.deletePerson(t.id).then((function(){n(e.persons.filter((function(e){return e.id!==t.id}))),e.setNotificationMessage("".concat(t.name," was successefully deleted")),e.setClassType("notification delete"),setTimeout((function(){e.setNotificationMessage(null),e.setClassType("notification")}),5e3)}))}(t)}},"delete")," ")}))};if(""!==e.searchName.trim()){t=function(){return e.persons.filter((function(n){if(-1!==n.name.toLowerCase().indexOf(e.searchName.toLowerCase()))return n})).map((function(e){return o.a.createElement("li",{key:e.name},e.name," ",e.number," ")}))}}return o.a.createElement("div",null,o.a.createElement("ul",null,t()))},f=t(3),m=t.n(f),d="/api/persons",p={getAll:function(){return m.a.get(d).then((function(e){return e.data}))},create:function(e){return m.a.post(d,e).then((function(e){return e.data}))},update:function(e,n){return m.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},deletePerson:function(e){return m.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))}},b=function(e){var n=e.message,t=e.classType;return null===n?null:o.a.createElement("div",{className:t},n)},h=(t(36),function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(null),f=Object(i.a)(c,2),m=f[0],d=f[1],h=Object(a.useState)("notification"),v=Object(i.a)(h,2),E=v[0],g=v[1];Object(a.useEffect)((function(){p.getAll().then((function(e){r(e)}))}),[]);var y=Object(a.useState)(""),w=Object(i.a)(y,2),C=w[0],N=w[1];return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(b,{message:m,classType:E}),o.a.createElement(s,{name:C,onChange:N,persons:t}),o.a.createElement("br",null),o.a.createElement(u,{persons:t,setPersons:r,personService:p,setNotificationMessage:d,setClassType:g}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(l,{persons:t,searchName:C,setPersons:r,personService:p,setNotificationMessage:d,setClassType:g}))});t(37),t(38);c.a.render(o.a.createElement(h,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.49cfb850.chunk.js.map